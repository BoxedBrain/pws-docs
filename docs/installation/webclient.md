# Installation WebClient

!!! danger "Hint"
    This guide focuses on the initial installation of the WebClient and is not relevant for further updates.

## Preparations for installation

### System requirements

 Please ensured that all [system requirements](requirements/webserver.md) have been met.

 ### SSL certificate

 When the web service is started, the certificate created in the basic configuration is configured and connected to port 11016. This is the connection certificate for communication between the web server and the {{about.product}} server.

### Databases

All databases that are to be used on the WebClient must be enabled for this purpose. With a double click on the corresponding database the option "Access via WebClient" can be activated.

## Installation

The WebClient is generated by the AdminClient and made available in a ZIP archive. Depending on the web server, the ZIP archive is created accordingly. The installation also differs depending on the web server used. Irrespective of the web server used, the following information firstly needs to be entered:

### Destination

Name the folder where the ZIP archive with the WebClient should be placed.

!!! danger
    Do not use the AdminClient installation directory!

!!! hint
    If the web server is created on IIS, execute config.bat to handle integration of the web server.

### Server IP

Please check if the IP address is correct otherwise no connection to the WebClient can be established. If the IP address is wrong, you have to change it in the basic configuration of the AdminClient.

### Web server host address

Enter the IP address or the host name of the web server.

### Port

Enter the port that is used to communicate with the WebClient.

All of the subsequent steps or the required tasks will be explained below for each specific web server.

## Microsoft IIS

If the WebClient is being operated on a Microsoft IIS web server, there are two methods for integrating it into the system:

### Create as its own website

For this option, a website with the name "WebClient" will be directly created on the IIS by config.bat. The WebClient will be operated here from the standard directory C:\inetpub\wwwroot.

### Integrate in existing website

requires there to be an existing website. Therefore, a website needs to be firstly created on the IIS web sever. The name of the website then needs to be entered in the AdminClient. It is also necessary to enter the folder from which the WebClient should be operated under "website directory". The format here is "/webclient"

![installation-wizard-1](/assets/en/installation/webclient/installation-webclient-3-en.png){loading=lazy}

Once all of the settings have been entered, the WebClient can be created via the corresponding button in the ribbon. When the ZIP archive containing the WebClient has been created, it is copied to the previously defined directory (C:\inetpub\wwwroot as standard) and unzipped there to create a new directory.

### Config.bat

The file config.bat can be found in the newly created WebClient directory and now needs to be executed when logged on as the administrator. This will integrate the WebClient into the IIS web server.

!!! hint
    If the system requirements have not been met, you will be informed that the URL Rewrite and/or Application Request Routing modules need to be installed. In this case, follow the instructions on the wizard that will then immediately open. In addition, it is necessary to install the WebSocket Protokoll. Afterwards, config.bat needs to be executed again.

If the website has been correctly created, this will be correspondingly indicated by the notification IIS page created.

![installation-wizard-2](/assets/en/installation/webclient/installation-webclient-4-en.png){loading=lazy}

!!! danger
    Following a successful installation, it is imperative that config.bat is deleted! The config.bat file should also not be used for an "update"

### Certificate

The certificate then needs to be saved. Select the newly created website on the IIS web server. The bindings can now be opened on the far right.

![installation-wizard-3](/assets/en/installation/webclient/installation-webclient-5-en.png){loading=lazy}

Select the https entry and open it for editing. The SSL certificate is then selected here.

![installation-wizard-4](/assets/en/installation/webclient/installation-webclient-6-en.png){loading=lazy}

In addition, the {{about.product}} certificate needs to be exported from the {{about.product}} Server and imported onto the ISS under local computer > trusted root certificate location -> certificates. Further information can be found in the section "Certificates"

## Apache

In order to integrate the WebClient onto an Apache server, it is first necessary to enter all of the relevant settings:

### Document directory

The folder from which the WebClient should be operated is entered here.
The default folder is /var/www/html

### SSL certificate path

It is necessary to enter the directory in which the certificate will be saved here.

### SSL certificate key path

Finally, it is necessary to enter where the certificate key is located here.

![installation-wizard-5](/assets/en/installation/webclient/installation-webclient-7-en.png){loading=lazy}

Once all of the settings have been entered, the WebClient can be created via the button in the ribbon. The folder in which the ZIP file is located will then open automatically. The archive is now unzipped and the contents copied to the document directory on the web server.

The configuration for the Apache server has now also been created and can be viewed on the AdminClient.

![installation-wizard-6](/assets/en/installation/webclient/installation-webclient-8-en.png){loading=lazy}

The configuration can be selected using CTRL+A and copied. It is then directly integrated onto the Apache server.

!!! hint
    The configuration of the Apache server is always individual. Therefore, it is only possible to roughly describe the process for a standard installation.

### Standard configuration

The file /etc/apache2/sites-available/default-ssl.conf is (for example "nano") opened. Everything between`#!python <IfModule mod_ssl.c>`and`#!python </IfModule mod_ssl.c>`is now deleted and replaced by the configuration from the server. Apache is subsequently restarted via systemctl reload apache.

The WebClient is now ready to use and can be directly started. Further information can be found at the end of this section under "SCalling up the WebClient".

## nginx

In order to integrate the WebClient onto an nginx server, it is first necessary to enter all of the relevant settings:

### Document directory

The folder from which the WebClient should be operated is entered here.
The default folder is /var/www/html.

### SSL certificate path

It is necessary to enter the directory in which the certificate will be saved here.
The standard path here is /etc/nginx/certs/webclient.crt.

### SSL certificate key path

Finally, it is necessary to enter where the certificate key is located here.
The default setting is /etc/nginx/certs/webclient.key.

![installation-wizard-7](/assets/en/installation/webclient/installation-webclient-9-en.png){loading=lazy}

Once all of the settings have been entered, the WebClient can be created via the button in the ribbon. The folder in which the ZIP file is located will then immediately open. The archive is unzipped and its contents are copied to the document directory on the web server.

The configuration for the nginx server was also created together with the ZIP file. This can be directly viewed on the AdminClient.

![installation-wizard-8](/assets/en/installation/webclient/installation-webclient-10-en.png){loading=lazy}

The configuration then still needs to be integrated onto the nginx server. It can be directly copied on the AdminClient for this purpose.

!!! hint
    Every web server configuration is individual. Therefore, it is only possible to outline the normal process for a standard installation.

### Standard configuration

The file /etc/nginx/sites-available/default is firstly opened. For example via "nano". Now search for the entry `#!python server { }`. The configuration for the AdminClient is then added. Finally, the web server is restarted using the command systemctl restart nginx.

The WebClient is now ready to use and can be directly started.

## CORS configuration

A button for the so-called CORS configuration can be found on the ribbon. It is essential that this configuration is carried out before the WebClient can be used. A list of the permitted CORS domains will be saved as a result. Requests received via the WebClient can then be checked against this list. The request will only be successfully carried out if the origin header for a request is available in the permitted domains.

In order to add a domain, simply enter it at the bottom of the dialogue. Clicking on :material-plus-circle-outline: will add the entry to the list at the top.

![cors-configuration](/assets/en/installation/webclient/cors.png){loading=lazy}

!!! hint
    In general, it is sufficient to add the IP address which was also saved as the Web server host address.

## Calling up the WebClient

The process for calling up the WebClient is dependent on the configuration of the web server:

* WebClient in root directory -> https://hostname
* WebClient in a subdirectory -> https://hostname/path-to-subdirectory
* Port is not set to 443 -> https://hostname:port/path-to-subdirectory

!!! hint
    In order for the redirect to be used, it is important to ensure on apache and nginx web servers that no other host listens to port 80.
